services:
  profiler.file_storage:
    class: Symfony\Component\HttpKernel\Profiler\FileProfilerStorage
    arguments: ['%data_collector.storage%']
  profiler.database_storage:
    class: Drupal\webprofiler\Profiler\DatabaseProfilerStorage
    arguments: ['@database']
  profiler.storage:
    class: Symfony\Component\HttpKernel\Profiler\ProfilerStorageInterface
    factory_class: Drupal\webprofiler\Profiler\ProfilerStorageFactory
    factory_method: getProfilerStorage
    arguments: ['@config.factory', '@service_container']
  profiler.logger:
    class: Psr\Log\NullLogger
  profiler:
    class: Symfony\Component\HttpKernel\Profiler\Profiler
    arguments: ['@profiler.storage', '@profiler.logger']
  templateManager:
    class: Drupal\webprofiler\Profiler\TemplateManager
    arguments: ['@profiler', '@twig', '@twig.loader', '%data_collector.templates%']
  webprofiler.matcher:
    class: Drupal\webprofiler\RequestMatcher\WebprofilerRequestMatcher
    arguments: ['@config.factory']
  webprofiler.profilerListener:
    class: Symfony\Component\HttpKernel\EventListener\ProfilerListener
    arguments: ['@profiler', '@webprofiler.matcher']
    tags:
      - { name: event_subscriber }
  webprofiler.WebprofilerEventListener:
      class: Drupal\webprofiler\EventListener\WebprofilerEventListener
      arguments: ['@current_user']
      tags:
        - { name: event_subscriber }
  webprofiler.drupal:
    class: Drupal\webprofiler\DataCollector\DrupalDataCollector
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/drupal.html.twig', id:'drupal' }
  webprofiler.php_config:
    class: Drupal\webprofiler\DataCollector\PhpConfigDataCollector
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/php_config.html.twig', id:'php_config' }
  webprofiler.request:
    class: Drupal\webprofiler\DataCollector\RequestDataCollector
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/request.html.twig', id:'request' }
      - { name: event_subscriber }
  webprofiler.time:
    class: Drupal\webprofiler\DataCollector\TimeDataCollector
    arguments: [NULL, '@stopwatch']
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/time.html.twig', id:'time' }
  webprofiler.memory:
    class: Drupal\webprofiler\DataCollector\MemoryDataCollector
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/memory.html.twig', id:'memory' }
  webprofiler.form:
    class: Drupal\webprofiler\DataCollector\FormDataCollector
    arguments: ['@form_builder']
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/form.html.twig', id:'form' }
  webprofiler.user:
    class: Drupal\webprofiler\DataCollector\UserDataCollector
    arguments: ['@current_user', '@authentication', '@entity.manager', '@config.factory']
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/user.html.twig', id:'user' }
  webprofiler.database:
    class: Drupal\webprofiler\DataCollector\DatabaseDataCollector
    arguments: ['@database']
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/database.html.twig', id:'database' }
  webprofiler.drupal_extensions:
    class: Drupal\webprofiler\DataCollector\ExtensionDataCollector
    arguments: ['@module_handler', '@theme_handler']
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/extensions.html.twig', id:'drupal_extension' }
  webprofiler.routing:
    class: Drupal\webprofiler\DataCollector\RoutingDataCollector
    arguments: ['@router.route_provider']
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/routing.html.twig', id:'routing' }
  webprofiler.cache:
    class: Drupal\webprofiler\DataCollector\CacheDataCollector
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/cache.html.twig', id:'cache' }
  webprofiler.assets:
    class: Drupal\webprofiler\DataCollector\AssetDataCollector
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/asset.html.twig', id:'asset' }
  webprofiler.config:
    class: Drupal\webprofiler\DataCollector\ConfigDataCollector
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/config.html.twig', id:'config' }
  webprofiler.event:
    class: Drupal\webprofiler\DataCollector\EventDataCollector
    arguments: ['@event_dispatcher']
    tags:
      - { name: data_collector, template:'@webprofiler/Collector/events.html.twig', id:'events', priority: 255 }
  stopwatch:
    class: Drupal\webprofiler\Stopwatch
  webprofiler.debug.event_dispatcher:
    class: Symfony\Component\HttpKernel\Debug\TraceableEventDispatcher
    arguments: ['@webprofiler.debug.event_dispatcher.parent', '@stopwatch']
  webprofiler.debug.event_dispatcher.parent:
    class: Symfony\Component\EventDispatcher\ContainerAwareEventDispatcher
    arguments: ['@service_container']
  webprofiler.debug.controller_resolver:
    class: Symfony\Component\HttpKernel\Controller\TraceableControllerResolver
    arguments: ['@controller_resolver', '@stopwatch']
