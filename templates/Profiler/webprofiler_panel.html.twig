<style>
    {% include '@webprofiler/Profiler/webprofiler_panel.css.twig' with { 'floatable': true } %}
</style>

<div id="collector-wrapper">

    {% if profile %}
        <div id="resume">
            <strong>Profile for:</strong>
            {{ profile.method|upper }}
            {% if profile.method|upper in ['GET', 'HEAD'] %}
                <a href="{{ profile.url }}">{{ profile.url }}</a>
            {% else %}
                {{ profile.url }}
            {% endif %}
            <span class="date">
                                <em>by {{ profile.ip }}</em> at <em>{{ profile.time|date('r') }}</em>
                            </span>
        </div>
    {% endif %}

    <div id="collector-content">
        {{ templates[panel].renderblock('panel', {
        'collector': profile.getcollector(panel),
        'token': profile.token,
        'name': panel
        }) }}
    </div>
</div>

<div id="navigation">
    <ul id="menu-profiler">
        {% for name, template in templates %}
            {% set menu %}{{ template.renderBlock('menu', { 'collector': profile.getcollector(name)}) }}{% endset %}
            {% if menu != '' %}
                <li class="{{ name }}{% if name == panel %} selected{% endif %}">
                    <a href="/admin/profiler/view/{{ token }}?panel={{ name }}">{{ menu|raw }}</a>
                </li>
            {% endif %}
        {% endfor %}
    </ul>

</div>
